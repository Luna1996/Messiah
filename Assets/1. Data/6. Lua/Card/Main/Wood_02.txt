Wood_02 = class(CardBase,'Wood_02')
local this = Wood_02

function this:new(arg)
  if arg then self.usageAmount=tonumber(arg) 
  else self.usageAmount = 3 end
  self.cardView = nil
  self.name = "爆破采石"
  --self.frame = "CardFrame_0"
  self.image = "爆破采石"
  self.desc = "占用1点人力,消耗1点钢材; 获得20点石材; 可以使用"..self.usageAmount.."次"

  self.inHand = false
  --self.e1 = ResourceModifier("Iron",2)
  --self.cost = LaborConsumer
end


function this:onPlay()
  if (GameManager.gameData.idleWorker >= 1 and GameManager.GetResource(ResourceType.Iron) >= 1)
  then
    self.usageAmount = self.usageAmount - 1
    --GameManager.DrawCard()
    GameManager.SubResource(ResourceType.Iron,1)
    GameManager.AddResource(ResourceType.Wood,20)
    GameManager.CreateBuff(GameEvent.EnterMainPhase, BuffType.OneShot, 1, 
    function()
      GameManager.gameData.idleWorker = GameManager.gameData.idleWorker + 1
    end)
    if self.usageAmount == 0 then GameManager.Exile(self)
    else GameManager.Discard(self) end
  else
    HandView:AddToHand(self.cardView)
  end

end


function this:getCardFullName()
  return this.className..' '..self.usageAmount
end