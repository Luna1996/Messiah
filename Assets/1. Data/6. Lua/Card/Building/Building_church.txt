Building_church = class(CardBase,"Building_church")
local this = Building_church

function this:new()
  self.cardView = nil
  self.name = "教堂"
  self.frame = "建筑牌面"
  self.image = "教堂p"
  self.desc = "建造教堂 收集居民信仰的力量 每回合每名居民提供1点信仰值"
  self.inHand = false
  self.buildingConsumption = {10,0,5,2}
end


function this:onPlay()
  --get一下当前空闲人力
  GameManager.ModifyCost(1)
  local population = GameManager.gameData.idleWorker + GameManager.gameData.occupiedWorker
  GameManager.CreateBuff(GameEvent.EnterMainPhase, BuffType.Repeat, -1,
  function ()
    GameManager.AddResource(ResourceType.Faith, population)
  end)
  GameManager.Exile(self)
end

